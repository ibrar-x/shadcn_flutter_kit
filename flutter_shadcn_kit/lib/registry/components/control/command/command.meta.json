{
  "$schema": "../readme_meta.schema.json",
  "schemaVersion": 1,
  "id": "command",
  "name": "Command",
  "description": "Command palette with search, keyboard navigation, and customizable result builders.",
  "install": "flutter_shadcn add command",
  "import": "import 'package:<your_app>/ui/shadcn/control/command/command.dart';",
  "whenToUse": {
    "use": [
      "you need a command palette or quick action search.",
      "you want keyboard navigation with async/streamed results."
    ],
    "avoid": [
      "a standard `Search` or `ListView` is sufficient."
    ]
  },
  "examples": {
    "minimal": "Command(\n  builder: (context, query) async* {\n    final items = <Widget>[\n      CommandItem(\n        title: const Text('Open settings'),\n        onTap: () {},\n      ),\n    ];\n    yield items;\n  },\n)"
  },
  "patterns": [
    {
      "title": "Open a dialog command palette",
      "code": "await showCommandDialog<void>(\n  context: context,\n  builder: (context, query) async* {\n    yield [\n      CommandCategory(\n        title: const Text('General'),\n        children: [\n          CommandItem(\n            title: const Text('New file'),\n            onTap: () {},\n          ),\n        ],\n      ),\n    ];\n  },\n);"
    },
    {
      "title": "Keyboard shortcut hints",
      "code": "CommandItem(\n  title: const Text('Search'),\n  trailing: CommandKeyboardDisplay.fromActivator(\n    activator: const SingleActivator(LogicalKeyboardKey.keyK, meta: true),\n  ),\n  onTap: () {},\n)"
    }
  ],
  "api": {
    "constructors": [
      "`Command` — requires a `builder` that returns `Stream<List<Widget>>`.",
      "`showCommandDialog` — shows a modal command palette dialog.",
      "`CommandItem` — selectable command row with `leading`, `title`, `trailing`.",
      "`CommandCategory` — groups items under a header.",
      "`CommandEmpty` — default empty state widget.",
      "`CommandKeyboardDisplay` — renders keyboard shortcuts."
    ],
    "callbacks": [
      "`builder` (Command) — `Stream<List<Widget>> Function(BuildContext, String?)`.",
      "`onTap` (CommandItem)",
      "`emptyBuilder`, `loadingBuilder`, `errorBuilder` (Command)"
    ]
  },
  "theming": [
    "Palette surface styles read from the shared `Theme` in `shadcn`.",
    "Dialog wrapper uses `ModalBackdrop` and respects `surfaceOpacity` and `surfaceBlur`."
  ],
  "accessibility": [
    "Keyboard navigation is handled by the command state.",
    "Provide readable labels for command titles and shortcuts."
  ],
  "do": [
    "Stream results from async sources (search, commands).",
    "Group items with `CommandCategory` for scannability."
  ],
  "dont": [
    "Block UI with heavy synchronous builders.",
    "Omit `onTap` for actionable items."
  ],
  "related": [
    "dialog",
    "input",
    "overlay"
  ],
  "registryRules": [
    "One public class per file",
    "Helpers under `_impl/`"
  ]
}
