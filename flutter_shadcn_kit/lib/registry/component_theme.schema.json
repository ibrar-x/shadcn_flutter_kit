{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "shadcn_flutter_registry/component_theme.schema.json",
  "title": "Component Theme Schema",
  "type": "object",
  "additionalProperties": false,
  "required": ["id", "title", "schemaVersion", "groups"],
  "properties": {
    "$schema": { "type": "string" },
    "id": { "type": "string", "pattern": "^[a-z0-9_]+$" },
    "title": { "type": "string", "minLength": 1 },
    "description": { "type": "string" },
    "schemaVersion": { "type": "integer", "minimum": 1 },
    "since": { "type": "string" },
    "deprecatedSince": { "type": "string" },
    "migrations": {
      "type": "object",
      "additionalProperties": { "type": "string" }
    },
    "groups": {
      "type": "array",
      "items": { "$ref": "#/$defs/groupSpec" }
    }
  },
  "$defs": {
    "groupSpec": {
      "type": "object",
      "additionalProperties": false,
      "required": ["title", "fields"],
      "properties": {
        "title": { "type": "string", "minLength": 1 },
        "description": { "type": "string" },
        "fields": {
          "type": "array",
          "items": { "$ref": "#/$defs/fieldSpec" }
        }
      }
    },
    "visibleIf": {
      "type": "object",
      "additionalProperties": false,
      "required": ["field", "op"],
      "properties": {
        "field": { "type": "string", "minLength": 1 },
        "op": {
          "type": "string",
          "enum": ["eq", "neq", "gt", "gte", "lt", "lte", "in", "notIn", "exists"]
        },
        "value": {}
      }
    },
    "tokenBinding": {
      "type": "object",
      "additionalProperties": false,
      "required": ["path"],
      "properties": {
        "path": { "type": "string", "minLength": 1 },
        "allowedFamilies": {
          "type": "array",
          "items": { "type": "string" }
        }
      }
    },
    "validation": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "clamp": { "type": "string", "enum": ["clamp", "reject"] },
        "pattern": { "type": "string" },
        "minItems": { "type": "integer", "minimum": 0 },
        "maxItems": { "type": "integer", "minimum": 0 },
        "min": { "type": "number" },
        "max": { "type": "number" },
        "step": { "type": "number", "exclusiveMinimum": 0 }
      }
    },
    "uiHints": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "control": {
          "type": "string",
          "enum": ["slider", "input", "color", "segmented", "select"]
        },
        "unit": {
          "type": "string",
          "enum": ["px", "ms"]
        }
      }
    },
    "fieldType": {
      "type": "string",
      "enum": [
        "boolean",
        "number",
        "integer",
        "string",
        "color",
        "duration",
        "enum",
        "list",
        "object",
        "shadowList",
        "gradient",
        "border",
        "textStyle",
        "curve"
      ]
    },
    "shadowLayer": {
      "type": "object",
      "additionalProperties": false,
      "required": ["color", "blurRadius", "offsetX", "offsetY"],
      "properties": {
        "color": { "type": "string" },
        "blurRadius": { "type": "number" },
        "spreadRadius": { "type": "number" },
        "offsetX": { "type": "number" },
        "offsetY": { "type": "number" }
      }
    },
    "gradientValue": {
      "type": "object",
      "additionalProperties": false,
      "required": ["kind", "colors"],
      "properties": {
        "kind": { "type": "string", "enum": ["linear", "radial", "sweep"] },
        "colors": {
          "type": "array",
          "minItems": 2,
          "items": { "type": "string" }
        },
        "stops": {
          "type": "array",
          "items": { "type": "number" }
        },
        "begin": { "type": "string" },
        "end": { "type": "string" },
        "center": { "type": "string" },
        "radius": { "type": "number" },
        "startAngle": { "type": "number" },
        "endAngle": { "type": "number" }
      }
    },
    "borderSide": {
      "type": "object",
      "additionalProperties": false,
      "required": ["color", "width"],
      "properties": {
        "color": { "type": "string" },
        "width": { "type": "number" },
        "style": { "type": "string", "enum": ["none", "solid"] }
      }
    },
    "borderValue": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "all": { "$ref": "#/$defs/borderSide" },
        "top": { "$ref": "#/$defs/borderSide" },
        "right": { "$ref": "#/$defs/borderSide" },
        "bottom": { "$ref": "#/$defs/borderSide" },
        "left": { "$ref": "#/$defs/borderSide" }
      }
    },
    "textStyleValue": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "fontFamily": { "type": "string" },
        "fontSize": { "type": "number" },
        "fontWeight": { "type": "integer" },
        "fontStyle": { "type": "string", "enum": ["normal", "italic"] },
        "letterSpacing": { "type": "number" },
        "height": { "type": "number" },
        "color": { "type": "string" },
        "decoration": {
          "type": "string",
          "enum": ["none", "underline", "overline", "lineThrough"]
        }
      }
    },
    "curveValue": {
      "type": "object",
      "additionalProperties": false,
      "required": ["kind"],
      "properties": {
        "kind": {
          "type": "string",
          "enum": ["linear", "ease", "easeIn", "easeOut", "easeInOut", "cubic"]
        },
        "x1": { "type": "number" },
        "y1": { "type": "number" },
        "x2": { "type": "number" },
        "y2": { "type": "number" }
      }
    },
    "fieldSpec": {
      "type": "object",
      "additionalProperties": false,
      "required": ["type", "name", "label", "defaultValue", "required"],
      "properties": {
        "type": { "$ref": "#/$defs/fieldType" },
        "name": { "type": "string", "minLength": 1 },
        "label": { "type": "string", "minLength": 1 },
        "description": { "type": "string" },
        "defaultValue": {},
        "required": { "type": "boolean" },
        "isAdvanced": { "type": "boolean" },
        "visibleIf": {
          "type": "array",
          "items": { "$ref": "#/$defs/visibleIf" }
        },
        "tokenBinding": { "$ref": "#/$defs/tokenBinding" },
        "validation": { "$ref": "#/$defs/validation" },
        "ui": { "$ref": "#/$defs/uiHints" },
        "precision": { "type": "integer", "minimum": 0 },
        "helpUrl": { "type": "string" },
        "since": { "type": "string" },
        "deprecatedSince": { "type": "string" }
      }
    }
  }
}
