import 'package:flutter/widgets.dart';
import '../../component_example_models.dart';
import 'resizable_example_1.dart';
import 'resizable_example_2.dart';
import 'resizable_example_3.dart';
import 'resizable_example_4.dart';
import 'resizable_example_5.dart';
import 'resizable_example_6.dart';

const ComponentExample resizableExample1 = ComponentExample(
  title: "Horizontal Example",
  builder: _buildResizableExample1,
  code: "import 'package:docs/pages/docs/components/carousel_example.dart';\nimport 'package:docs/shadcn_ui.dart';\n\nclass ResizableExample1 extends StatefulWidget {\n  const ResizableExample1({super.key});\n\n  @override\n  State<ResizableExample1> createState() => _ResizableExample1State();\n}\n\nclass _ResizableExample1State extends State<ResizableExample1> {\n  @override\n  Widget build(BuildContext context) {\n    return const OutlinedContainer(\n      clipBehavior: Clip.antiAlias,\n      // A horizontal panel splits available width into multiple resizable panes.\n      child: ResizablePanel.horizontal(\n        children: [\n          ResizablePane(\n            // Initial width in logical pixels for this pane.\n            initialSize: 80,\n            child: NumberedContainer(\n              index: 0,\n              height: 200,\n              fill: false,\n            ),\n          ),\n          ResizablePane(\n            initialSize: 80,\n            child: NumberedContainer(\n              index: 1,\n              height: 200,\n              fill: false,\n            ),\n          ),\n          ResizablePane(\n            initialSize: 120,\n            child: NumberedContainer(\n              index: 2,\n              height: 200,\n              fill: false,\n            ),\n          ),\n          ResizablePane(\n            initialSize: 80,\n            child: NumberedContainer(\n              index: 3,\n              height: 200,\n              fill: false,\n            ),\n          ),\n          ResizablePane(\n            initialSize: 80,\n            child: NumberedContainer(\n              index: 4,\n              height: 200,\n              fill: false,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n",
);

Widget _buildResizableExample1(BuildContext context) {
  return const ResizableExample1();
}

const ComponentExample resizableExample2 = ComponentExample(
  title: "Vertical Example",
  builder: _buildResizableExample2,
  code: "import 'package:docs/pages/docs/components/carousel_example.dart';\nimport 'package:docs/shadcn_ui.dart';\n\nclass ResizableExample2 extends StatefulWidget {\n  const ResizableExample2({super.key});\n\n  @override\n  State<ResizableExample2> createState() => _ResizableExample2State();\n}\n\nclass _ResizableExample2State extends State<ResizableExample2> {\n  @override\n  Widget build(BuildContext context) {\n    return const OutlinedContainer(\n      clipBehavior: Clip.antiAlias,\n      // A vertical panel splits available height into multiple resizable rows (panes).\n      child: ResizablePanel.vertical(\n        children: [\n          ResizablePane(\n            // Initial height in logical pixels for this row.\n            initialSize: 80,\n            child: NumberedContainer(\n              index: 0,\n              width: 200,\n              fill: false,\n            ),\n          ),\n          ResizablePane(\n            initialSize: 120,\n            child: NumberedContainer(\n              index: 1,\n              width: 200,\n              fill: false,\n            ),\n          ),\n          ResizablePane(\n            initialSize: 80,\n            child: NumberedContainer(\n              index: 2,\n              width: 200,\n              fill: false,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n",
);

Widget _buildResizableExample2(BuildContext context) {
  return const ResizableExample2();
}

const ComponentExample resizableExample3 = ComponentExample(
  title: "Horizontal Example with Dragger",
  builder: _buildResizableExample3,
  code: "import 'package:docs/pages/docs/components/carousel_example.dart';\nimport 'package:docs/shadcn_ui.dart';\n\nclass ResizableExample3 extends StatefulWidget {\n  const ResizableExample3({super.key});\n\n  @override\n  State<ResizableExample3> createState() => _ResizableExample3State();\n}\n\nclass _ResizableExample3State extends State<ResizableExample3> {\n  @override\n  Widget build(BuildContext context) {\n    return OutlinedContainer(\n      clipBehavior: Clip.antiAlias,\n      child: ResizablePanel.horizontal(\n        // Provide a custom dragger appearance/behavior for the splitters.\n        draggerBuilder: (context) {\n          return const HorizontalResizableDragger();\n        },\n        children: const [\n          ResizablePane(\n            initialSize: 80,\n            child: NumberedContainer(\n              index: 0,\n              height: 200,\n              fill: false,\n            ),\n          ),\n          ResizablePane(\n            initialSize: 80,\n            child: NumberedContainer(\n              index: 1,\n              height: 200,\n              fill: false,\n            ),\n          ),\n          ResizablePane(\n            initialSize: 120,\n            child: NumberedContainer(\n              index: 2,\n              height: 200,\n              fill: false,\n            ),\n          ),\n          ResizablePane(\n            initialSize: 80,\n            child: NumberedContainer(\n              index: 3,\n              height: 200,\n              fill: false,\n            ),\n          ),\n          ResizablePane(\n            initialSize: 80,\n            child: NumberedContainer(\n              index: 4,\n              height: 200,\n              fill: false,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n",
);

Widget _buildResizableExample3(BuildContext context) {
  return const ResizableExample3();
}

const ComponentExample resizableExample4 = ComponentExample(
  title: "Controller Example",
  builder: _buildResizableExample4,
  code: "import 'package:docs/pages/docs/components/carousel_example.dart';\nimport 'package:docs/shadcn_ui.dart';\n\nclass ResizableExample4 extends StatefulWidget {\n  const ResizableExample4({super.key});\n\n  @override\n  State<ResizableExample4> createState() => _ResizableExample4State();\n}\n\nclass _ResizableExample4State extends State<ResizableExample4> {\n  // Controlled panes: each pane has its own controller so we can read/write size\n  // and call helper methods (tryExpandSize, tryCollapse, etc.).\n  final AbsoluteResizablePaneController controller1 =\n      AbsoluteResizablePaneController(80);\n  final AbsoluteResizablePaneController controller2 =\n      AbsoluteResizablePaneController(80);\n  final AbsoluteResizablePaneController controller3 =\n      AbsoluteResizablePaneController(120);\n  final AbsoluteResizablePaneController controller4 =\n      AbsoluteResizablePaneController(80);\n  final AbsoluteResizablePaneController controller5 =\n      AbsoluteResizablePaneController(80);\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        OutlinedContainer(\n          clipBehavior: Clip.antiAlias,\n          child: ResizablePanel.horizontal(\n            children: [\n              ResizablePane.controlled(\n                // Bind pane size to controller1 (initial 80px).\n                controller: controller1,\n                child: const NumberedContainer(\n                  index: 0,\n                  height: 200,\n                  fill: false,\n                ),\n              ),\n              ResizablePane.controlled(\n                controller: controller2,\n                child: const NumberedContainer(\n                  index: 1,\n                  height: 200,\n                  fill: false,\n                ),\n              ),\n              ResizablePane.controlled(\n                controller: controller3,\n                // Optional constraint: this pane cannot grow beyond 200px.\n                maxSize: 200,\n                child: const NumberedContainer(\n                  index: 2,\n                  height: 200,\n                  fill: false,\n                ),\n              ),\n              ResizablePane.controlled(\n                controller: controller4,\n                child: const NumberedContainer(\n                  index: 3,\n                  height: 200,\n                  fill: false,\n                ),\n              ),\n              ResizablePane.controlled(\n                controller: controller5,\n                // Min size prevents the pane from being dragged smaller than 80px.\n                minSize: 80,\n                // When collapsed, this pane will reduce to 20px instead of disappearing.\n                collapsedSize: 20,\n                child: const NumberedContainer(\n                  index: 4,\n                  height: 200,\n                  fill: false,\n                ),\n              ),\n            ],\n          ),\n        ),\n        const Gap(48),\n        Wrap(\n          spacing: 16,\n          runSpacing: 16,\n          children: [\n            PrimaryButton(\n              onPressed: () {\n                // Restore all panes to their initial sizes.\n                controller1.size = 80;\n                controller2.size = 80;\n                controller3.size = 120;\n                controller4.size = 80;\n                controller5.size = 80;\n              },\n              child: const Text('Reset'),\n            ),\n            PrimaryButton(\n              onPressed: () {\n                // Attempt to grow pane 2 (controller3) by +20px.\n                controller3.tryExpandSize(20);\n              },\n              child: const Text('Expand Panel 2'),\n            ),\n            PrimaryButton(\n              onPressed: () {\n                // Attempt to shrink pane 2 (controller3) by -20px.\n                controller3.tryExpandSize(-20);\n              },\n              child: const Text('Shrink Panel 2'),\n            ),\n            PrimaryButton(\n              onPressed: () {\n                // Modify another pane's size incrementally.\n                controller2.tryExpandSize(20);\n              },\n              child: const Text('Expand Panel 1'),\n            ),\n            PrimaryButton(\n              onPressed: () {\n                controller2.tryExpandSize(-20);\n              },\n              child: const Text('Shrink Panel 1'),\n            ),\n            PrimaryButton(\n              onPressed: () {\n                controller5.tryExpandSize(20);\n              },\n              child: const Text('Expand Panel 4'),\n            ),\n            PrimaryButton(\n              onPressed: () {\n                controller5.tryExpandSize(-20);\n              },\n              child: const Text('Shrink Panel 4'),\n            ),\n            PrimaryButton(\n              onPressed: () {\n                // Collapse reduces the pane to its 'collapsedSize'.\n                controller5.tryCollapse();\n              },\n              child: const Text('Collapse Panel 4'),\n            ),\n            PrimaryButton(\n              onPressed: () {\n                // Expand restores from the collapsed state.\n                controller5.tryExpand();\n              },\n              child: const Text('Expand Panel 4'),\n            ),\n          ],\n        )\n      ],\n    );\n  }\n}\n",
);

Widget _buildResizableExample4(BuildContext context) {
  return const ResizableExample4();
}

const ComponentExample resizableExample5 = ComponentExample(
  title: "Collapsible Example",
  builder: _buildResizableExample5,
  code: "import 'package:docs/shadcn_ui.dart';\n\nclass ResizableExample5 extends StatefulWidget {\n  const ResizableExample5({super.key});\n\n  @override\n  State<ResizableExample5> createState() => _ResizableExample5State();\n}\n\nclass _ResizableExample5State extends State<ResizableExample5> {\n  final ResizablePaneController controller =\n      AbsoluteResizablePaneController(120);\n  final ResizablePaneController controller2 =\n      AbsoluteResizablePaneController(120);\n  @override\n  Widget build(BuildContext context) {\n    return OutlinedContainer(\n      clipBehavior: Clip.antiAlias,\n      child: ResizablePanel.horizontal(\n        children: [\n          ResizablePane.controlled(\n            // This controlled pane supports collapsing with a minimum and collapsed size.\n            minSize: 100,\n            collapsedSize: 40,\n            controller: controller,\n            child: AnimatedBuilder(\n              animation: controller,\n              builder: (context, child) {\n                // Render a different UI when the pane is collapsed.\n                if (controller.collapsed) {\n                  return Container(\n                    alignment: Alignment.center,\n                    height: 200,\n                    child: const RotatedBox(\n                      quarterTurns: -1,\n                      child: Text('Collapsed'),\n                    ),\n                  );\n                }\n                return Container(\n                  alignment: Alignment.center,\n                  height: 200,\n                  child: const Text('Expanded'),\n                );\n              },\n            ),\n          ),\n          ResizablePane(\n            // A standard resizable pane with an absolute initial width.\n            initialSize: 300,\n            child: Container(\n              alignment: Alignment.center,\n              height: 200,\n              child: const Text('Resizable'),\n            ),\n          ),\n          ResizablePane.controlled(\n            minSize: 100,\n            collapsedSize: 40,\n            controller: controller2,\n            child: AnimatedBuilder(\n              animation: controller2,\n              builder: (context, child) {\n                if (controller2.collapsed) {\n                  return Container(\n                    alignment: Alignment.center,\n                    height: 200,\n                    child: const RotatedBox(\n                      quarterTurns: -1,\n                      child: Text('Collapsed'),\n                    ),\n                  );\n                }\n                return Container(\n                  alignment: Alignment.center,\n                  height: 200,\n                  child: const Text('Expanded'),\n                );\n              },\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n",
);

Widget _buildResizableExample5(BuildContext context) {
  return const ResizableExample5();
}

const ComponentExample resizableExample6 = ComponentExample(
  title: "Nested Example",
  builder: _buildResizableExample6,
  code: "import 'package:docs/pages/docs/components/carousel_example.dart';\nimport 'package:docs/shadcn_ui.dart';\n\nclass ResizableExample6 extends StatefulWidget {\n  const ResizableExample6({super.key});\n\n  @override\n  State<ResizableExample6> createState() => _ResizableExample6State();\n}\n\nclass _ResizableExample6State extends State<ResizableExample6> {\n  @override\n  Widget build(BuildContext context) {\n    return const OutlinedContainer(\n      clipBehavior: Clip.antiAlias,\n      // Demonstrates nesting panels: horizontal root with vertical and horizontal children.\n      child: ResizablePanel.horizontal(\n        children: [\n          ResizablePane(\n            initialSize: 100,\n            minSize: 40,\n            child: NumberedContainer(\n              index: 0,\n              height: 200,\n              fill: false,\n            ),\n          ),\n          ResizablePane(\n            minSize: 100,\n            initialSize: 300,\n            // Middle pane is its own vertical resizable group.\n            child: ResizablePanel.vertical(\n              children: [\n                ResizablePane(\n                  initialSize: 80,\n                  minSize: 40,\n                  child: NumberedContainer(\n                    index: 1,\n                    fill: false,\n                  ),\n                ),\n                ResizablePane(\n                  minSize: 40,\n                  initialSize: 120,\n                  // This pane contains a horizontal panel using flexible panes below.\n                  child: ResizablePanel.horizontal(\n                    children: [\n                      // Flex panes share remaining space proportionally.\n                      ResizablePane.flex(\n                        child: NumberedContainer(\n                          index: 2,\n                          fill: false,\n                        ),\n                      ),\n                      ResizablePane.flex(\n                        child: NumberedContainer(\n                          index: 3,\n                          fill: false,\n                        ),\n                      ),\n                      ResizablePane.flex(\n                        child: NumberedContainer(\n                          index: 4,\n                          fill: false,\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n              ],\n            ),\n          ),\n          ResizablePane(\n            initialSize: 100,\n            minSize: 40,\n            child: NumberedContainer(\n              index: 5,\n              height: 200,\n              fill: false,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n",
);

Widget _buildResizableExample6(BuildContext context) {
  return const ResizableExample6();
}

const List<ComponentExample> resizableExamples = [
  resizableExample1,
  resizableExample2,
  resizableExample3,
  resizableExample4,
  resizableExample5,
  resizableExample6,
];
