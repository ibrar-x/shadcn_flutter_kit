import 'package:flutter/widgets.dart';
import '../../component_example_models.dart';
import 'switcher_example_1.dart';
import 'switcher_example_2.dart';

const ComponentExample switcherExample1 = ComponentExample(
  title: "Switcher Example 1",
  builder: _buildSwitcherExample1,
  code: "import 'package:docs/pages/docs/components/carousel_example.dart';\nimport 'package:docs/ui/shadcn/shadcn_ui.dart';\n\nclass SwitcherExample1 extends StatefulWidget {\n  const SwitcherExample1({super.key});\n\n  @override\n  State<SwitcherExample1> createState() => _SwitcherExample1State();\n}\n\nclass _SwitcherExample1State extends State<SwitcherExample1> {\n  List<AxisDirection> directions = const [\n    AxisDirection.up,\n    AxisDirection.down,\n    AxisDirection.left,\n    AxisDirection.right,\n  ];\n  List<Size> sizes = const [\n    Size(200, 300),\n    Size(300, 200),\n  ];\n  int directionIndex = 0;\n  int index = 0;\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      mainAxisSize: MainAxisSize.min,\n      children: [\n        PrimaryButton(\n            child: Text(\n                'Switch Direction (\${directions[directionIndex % directions.length]})'),\n            onPressed: () {\n              setState(() {\n                directionIndex++;\n              });\n            }),\n        gap(8),\n        PrimaryButton(\n            child: const Text('Next Item'),\n            onPressed: () {\n              setState(() {\n                index++;\n              });\n            }),\n        gap(24),\n        ClipRect(\n          child: Switcher(\n            // The index selects which child is visible; transitions are directional.\n            index: index,\n            direction: directions[directionIndex % directions.length],\n            onIndexChanged: (index) {\n              setState(() {\n                this.index = index;\n              });\n            },\n            children: [\n              for (int i = 0; i < 100; i++)\n                NumberedContainer(\n                  index: i,\n                  // Demonstrate different sizes to show animated size transitions.\n                  width: sizes[i % sizes.length].width,\n                  height: sizes[i % sizes.length].height,\n                )\n            ],\n          ),\n        ),\n      ],\n    );\n  }\n}\n",
);

Widget _buildSwitcherExample1(BuildContext context) {
  return const SwitcherExample1();
}

const ComponentExample switcherExample2 = ComponentExample(
  title: "Switcher Example 2",
  builder: _buildSwitcherExample2,
  code: "import 'package:docs/ui/shadcn/shadcn_ui.dart';\n\nclass SwitcherExample2 extends StatefulWidget {\n  const SwitcherExample2({super.key});\n\n  @override\n  State<SwitcherExample2> createState() => _SwitcherExample2State();\n}\n\nclass _SwitcherExample2State extends State<SwitcherExample2> {\n  bool _isRegister = false;\n  final _registerController = FormController();\n  final _loginController = FormController();\n  @override\n  Widget build(BuildContext context) {\n    return Switcher(\n      // Toggle between login (index 0) and register (index 1) forms.\n      index: _isRegister ? 1 : 0,\n      onIndexChanged: (index) {\n        setState(() {\n          _isRegister = index == 1;\n        });\n      },\n      direction: AxisDirection.left,\n      children: [\n        Container(\n          key: const Key('login'),\n          width: 350,\n          padding: const EdgeInsets.all(16),\n          child: Form(\n            controller: _loginController,\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              spacing: 16,\n              children: [\n                FormField(\n                  key: const TextFieldKey(#email),\n                  label: const Text('Email'),\n                  validator: const EmailValidator() & const NotEmptyValidator(),\n                  showErrors: const {\n                    FormValidationMode.changed,\n                    FormValidationMode.submitted,\n                  },\n                  child: TextField(\n                    initialValue:\n                        _loginController.getValue(const TextFieldKey(#email)),\n                    keyboardType: TextInputType.emailAddress,\n                    autocorrect: false,\n                    enableSuggestions: false,\n                  ),\n                ),\n                const FormField(\n                  key: TextFieldKey(#password),\n                  label: Text('Password'),\n                  validator: NotEmptyValidator(),\n                  showErrors: {\n                    FormValidationMode.changed,\n                    FormValidationMode.submitted,\n                  },\n                  child: TextField(obscureText: true),\n                ),\n                const SubmitButton(\n                  child: Text('Login'),\n                ),\n                const Text('Don\\'t have an account? ').thenButton(\n                    onPressed: () {\n                      setState(() {\n                        // Switch to the register form.\n                        _isRegister = true;\n                      });\n                    },\n                    child: const Text('Sign Up!')),\n              ],\n            ),\n          ),\n        ),\n        Container(\n          key: const Key('register-form'),\n          width: 350,\n          padding: const EdgeInsets.all(16),\n          child: Form(\n            controller: _registerController,\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              spacing: 16,\n              children: [\n                FormField(\n                  key: const TextFieldKey(#email),\n                  label: const Text('Email'),\n                  validator: const EmailValidator() & const NotEmptyValidator(),\n                  showErrors: const {\n                    FormValidationMode.changed,\n                    FormValidationMode.submitted,\n                  },\n                  child: TextField(\n                    initialValue: _registerController\n                        .getValue(const TextFieldKey(#email)),\n                    keyboardType: TextInputType.emailAddress,\n                    autocorrect: false,\n                    enableSuggestions: false,\n                  ),\n                ),\n                const FormField(\n                  key: TextFieldKey(#password),\n                  label: Text('Password'),\n                  validator: LengthValidator(\n                      min: 6,\n                      message: 'Password must be at least 6 characters'),\n                  showErrors: {\n                    FormValidationMode.changed,\n                    FormValidationMode.submitted,\n                  },\n                  child: TextField(obscureText: true),\n                ),\n                const FormField(\n                  key: TextFieldKey(#confirmPassword),\n                  label: Text('Confirm Password'),\n                  validator: CompareWith.equal(TextFieldKey(#password),\n                      message: 'Passwords do not match'),\n                  showErrors: {\n                    FormValidationMode.changed,\n                    FormValidationMode.submitted,\n                  },\n                  child: TextField(obscureText: true),\n                ),\n                const SubmitButton(\n                  child: Text('Register'),\n                ),\n                const Text('Already have an account? ').thenButton(\n                    onPressed: () {\n                      setState(() {\n                        // Switch back to the login form.\n                        _isRegister = false;\n                      });\n                    },\n                    child: const Text('Login!')),\n              ],\n            ),\n          ),\n        ),\n      ],\n    );\n  }\n}\n",
);

Widget _buildSwitcherExample2(BuildContext context) {
  return const SwitcherExample2();
}

const List<ComponentExample> switcherExamples = [
  switcherExample1,
  switcherExample2,
];