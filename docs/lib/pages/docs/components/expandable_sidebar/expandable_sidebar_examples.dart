import 'package:flutter/widgets.dart';
import '../../component_example_models.dart';
import 'expandable_sidebar_example_1.dart';

const ComponentExample expandableSidebarExample1 = ComponentExample(
  title: "Example",
  builder: _buildExpandableSidebarExample1,
  code: "import 'package:docs/shadcn_ui.dart';\n\n// Demonstrates an \"expandable\" navigation rail that can collapse/expand labels\n// while keeping the same selection model. The left rail hosts sections and items;\n// the right side is just an empty content area for demo framing.\n\nclass ExpandableSidebarExample1 extends StatefulWidget {\n  const ExpandableSidebarExample1({super.key});\n\n  @override\n  State<ExpandableSidebarExample1> createState() =>\n      _ExpandableSidebarExample1State();\n}\n\nclass _ExpandableSidebarExample1State extends State<ExpandableSidebarExample1> {\n  // When true, the rail expands to show labels; when false, it collapses to\n  // an icon-only sidebar.\n  bool expanded = false;\n\n  // Currently selected navigation index. This feeds NavigationRail.index and is\n  // set via onSelected below.\n  int selected = 0;\n\n  NavigationItem buildButton(String text, IconData icon) {\n    // Convenience factory for a selectable navigation item with left alignment\n    // and a primary icon style when selected.\n    return NavigationItem(\n      label: Text(text),\n      alignment: Alignment.centerLeft,\n      selectedStyle: const ButtonStyle.primaryIcon(),\n      child: Icon(icon),\n    );\n  }\n\n  NavigationLabel buildLabel(String label) {\n    // Section header used to group related navigation items.\n    return NavigationLabel(\n      alignment: Alignment.centerLeft,\n      child: Text(label).semiBold().muted(),\n      // padding: EdgeInsets.zero,\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final theme = Theme.of(context);\n    return OutlinedContainer(\n      // Frame the example and fix a size so expansion is obvious.\n      height: 600,\n      width: 800,\n      child: Row(\n        crossAxisAlignment: CrossAxisAlignment.stretch,\n        children: [\n          NavigationRail(\n            backgroundColor: theme.colorScheme.card,\n            // Expand/collapse behavior is handled by the `expanded` boolean.\n            // With labelType.expanded, labels are hidden when collapsed.\n            labelType: NavigationLabelType.expanded,\n            labelPosition: NavigationLabelPosition.end,\n            alignment: NavigationRailAlignment.start,\n            expanded: expanded,\n            // Bind the selected index to update highlights and semantics.\n            index: selected,\n            onSelected: (value) {\n              setState(() {\n                selected = value;\n              });\n            },\n            children: [\n              NavigationButton(\n                alignment: Alignment.centerLeft,\n                label: const Text('Menu'),\n                onPressed: () {\n                  setState(() {\n                    // Toggle between expanded and collapsed rail.\n                    expanded = !expanded;\n                  });\n                },\n                child: const Icon(Icons.menu),\n              ),\n              const NavigationDivider(),\n              buildLabel('You'),\n              buildButton('Home', Icons.home_filled),\n              buildButton('Trending', Icons.trending_up),\n              buildButton('Subscription', Icons.subscriptions),\n              const NavigationDivider(),\n              buildLabel('History'),\n              buildButton('History', Icons.history),\n              buildButton('Watch Later', Icons.access_time_rounded),\n              const NavigationDivider(),\n              buildLabel('Movie'),\n              buildButton('Action', Icons.movie_creation_outlined),\n              buildButton('Horror', Icons.movie_creation_outlined),\n              buildButton('Thriller', Icons.movie_creation_outlined),\n              const NavigationDivider(),\n              buildLabel('Short Films'),\n              buildButton('Action', Icons.movie_creation_outlined),\n              buildButton('Horror', Icons.movie_creation_outlined),\n            ],\n          ),\n          const VerticalDivider(),\n          // Placeholder for the main content area.\n          const Flexible(child: SizedBox()),\n        ],\n      ),\n    );\n  }\n}\n",
);

Widget _buildExpandableSidebarExample1(BuildContext context) {
  return const ExpandableSidebarExample1();
}

const List<ComponentExample> expandableSidebarExamples = [
  expandableSidebarExample1,
];
