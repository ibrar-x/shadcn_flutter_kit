{
  "$schema": "../readme_meta.schema.json",
  "schemaVersion": 1,
  "id": "text_animate",
  "name": "Streaming Text",
  "description": "Stream-aware animated text renderer for incremental updates.",
  "install": "flutter_shadcn add text_animate",
  "import": "import 'package:<your_app>/ui/shadcn/display/text_animate/text_animate.dart';",
  "whenToUse": {
    "use": [
      "text arrives chunk-by-chunk (AI/chat/terminal-like output).",
      "you want newly appended characters to animate while older text stays stable.",
      "you need pluggable character effects (blur, custom adapters)."
    ],
    "avoid": [
      "text is static and animation is unnecessary.",
      "you need full rich text editing behavior."
    ]
  },
  "examples": {
    "minimal": "StreamingText(\n  text: streamedText,\n  style: const TextStyle(fontSize: 16),\n)"
  },
  "patterns": [
    {
      "title": "Typewriter reveal speed",
      "code": "StreamingText(\n  text: streamedText,\n  typewriter: const TypewriterEffect(charsPerSecond: 50),\n)"
    },
    {
      "title": "Blur-in for newly revealed chars",
      "code": "StreamingText(\n  text: streamedText,\n  effect: const BlurInEffect(\n    duration: Duration(milliseconds: 260),\n    maxBlurSigma: 6,\n    fadeIn: true,\n    slideUpPx: 2,\n  ),\n)"
    },
    {
      "title": "Fade-in and slide-in variants",
      "code": "StreamingText(\n  text: streamedText,\n  effect: const SlideInEffect(\n    duration: Duration(milliseconds: 300),\n    offsetY: 8,\n    fadeIn: true,\n  ),\n)"
    },
    {
      "title": "Scramble-in (custom reveal)",
      "code": "StreamingText(\n  text: streamedText,\n  effect: const ScrambleInEffect(\n    duration: Duration(milliseconds: 460),\n    scrambleUntil: 0.74,\n  ),\n)"
    },
    {
      "title": "Blinking cursor while streaming",
      "code": "StreamingText(\n  text: streamedText,\n  cursor: const StreamingCursor.blink(showWhenSettled: false),\n)"
    },
    {
      "title": "Custom effect adapter",
      "code": "class JitterEffect extends StreamingTextEffectAdapter {\n  const JitterEffect({this.duration = const Duration(milliseconds: 200)});\n\n  final Duration duration;\n\n  @override\n  Duration get settleDuration => duration;\n\n  @override\n  InlineSpan buildSpan({\n    required String char,\n    required int index,\n    required Duration age,\n    required TextStyle baseStyle,\n  }) {\n    final t = (age.inMicroseconds / duration.inMicroseconds).clamp(0.0, 1.0);\n    final offset = (1 - t) * 2;\n\n    return WidgetSpan(\n      alignment: PlaceholderAlignment.baseline,\n      baseline: TextBaseline.alphabetic,\n      child: Transform.translate(\n        offset: Offset(offset, 0),\n        child: Text(char, style: baseStyle),\n      ),\n    );\n  }\n}"
    }
  ],
  "api": {
    "constructors": [
      "`StreamingText`",
      "`text` (`String`, required)",
      "`style` (`TextStyle?`)",
      "`typewriter` (`TypewriterEffect?`)",
      "`animateByWord` (`bool`, default `false`)",
      "`effect` (`StreamingTextEffectAdapter?`)",
      "`cursor` (`StreamingCursor?`)",
      "`textAlign` (`TextAlign?`)",
      "`textDirection` (`TextDirection?`)",
      "`softWrap` (`bool?`)",
      "`overflow` (`TextOverflow?`)",
      "`maxLines` (`int?`)",
      "`textWidthBasis` (`TextWidthBasis?`)",
      "`textHeightBehavior` (`TextHeightBehavior?`)",
      "`locale` (`Locale?`)",
      "`onSettled` (`StreamingTextSettled?`)"
    ],
    "callbacks": [
      "`onSettled` (`void Function(String text)?`): invoked once when the latest revision fully settles."
    ],
    "types_and_helpers": [
      "`TypewriterEffect`",
      "`StreamingTextEffectAdapter`",
      "`NoEffect`",
      "`BlurInEffect`",
      "`FadeInEffect`",
      "`SlideInEffect`",
      "`ScrambleInEffect`",
      "`CombinedEffect`",
      "`StreamingCursor`",
      "`TextAnimateTheme`"
    ]
  },
  "theming": [
    "`TextAnimateTheme` provides defaults for style, typewriter, effect, and cursor.",
    "Per-widget values override theme values."
  ],
  "accessibility": [
    "Pair animated output with semantic context when content meaning changes.",
    "Avoid very fast reveal speeds for long-form content.",
    "Use sufficient contrast for cursor and text colors."
  ],
  "do": [
    "Pass the latest full text value on each stream tick.",
    "Use `CombinedEffect` when layering built-in effect adapters."
  ],
  "dont": [
    "Mutate text in-place without sending the latest full string.",
    "Rely on animation alone for critical status messaging."
  ],
  "related": [
    "text",
    "selectable",
    "number_ticker"
  ],
  "registryRules": [
    "One public entry widget per component file.",
    "Keep private implementation details under `_impl/`."
  ]
}
